(()=>{var e={};e.id=676,e.ids=[676],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},2576:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>u,tree:()=>c});var r=a(7096),t=a(6132),l=a(7284),n=a.n(l),i=a(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let c=["",{children:["users",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6111)),"D:\\Quarter004\\assignment\\frontend\\app\\users\\[id]\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9980)),"D:\\Quarter004\\assignment\\frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],m=["D:\\Quarter004\\assignment\\frontend\\app\\users\\[id]\\page.js"],o="/users/[id]/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/users/[id]/page",pathname:"/users/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3291:(e,s,a)=>{Promise.resolve().then(a.bind(a,2724))},2724:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>UserDetailPage});var r=a(784),t=a(9885);a(1440);var l=a(7114),n=a(6447),i=a(9836),d=a(7809),c=a(8867),m=a(6629),o=a(9423),x=a(1185),u=a(175),h=a(6151);function UserDetailPage(){let{id:e}=(0,l.useParams)(),[s,a]=(0,t.useState)(null),[p,j]=(0,t.useState)(null),[g,f]=(0,t.useState)(!0),[v,y]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),[b,k]=(0,t.useState)({name:"",email:""}),[_,C]=(0,t.useState)({}),[U,P]=(0,t.useState)(!1),{addToast:L}=(0,x.useToast)();(0,t.useEffect)(()=>{fetchUser()},[e]);let fetchUser=async()=>{try{f(!0);let s=await n.B.getUserById(e);a(s),j({...s}),k({name:s.name||"",email:s.email||""}),y(null)}catch(e){y("Failed to fetch user. Please try again later."),console.error("Error fetching user:",e),L({message:"Failed to fetch user. Please try again.",type:"error"})}finally{f(!1)}},handleUpdate=async s=>{if(s.preventDefault(),validate())try{let s=await n.B.updateUser(e,b);a(s),j({...s}),w(!1),L({message:"User updated successfully!",type:"success"})}catch(e){y("Failed to update user. Please try again."),console.error("Error updating user:",e),L({message:"Failed to update user. Please try again.",type:"error"})}},handleDelete=async()=>{try{await n.B.deleteUser(e),L({message:"User deleted successfully!",type:"success"}),window.location.href="/users"}catch(e){y("Failed to delete user. Please try again."),console.error("Error deleting user:",e),L({message:"Failed to delete user. Please try again.",type:"error"})}finally{P(!1)}},handleChange=e=>{let{name:s,value:a}=e.target;k(e=>({...e,[s]:a})),_[s]&&C(e=>({...e,[s]:""}))},validate=()=>{let e={};return b.name.trim()||(e.name="Name is required"),b.email.trim()?/^\S+@\S+\.\S+$/.test(b.email)||(e.email="Email is invalid"):e.email="Email is required",C(e),0===Object.keys(e).length};return g?r.jsx(h.Z,{children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Details"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Loading user information..."})]}),r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(o.o,{className:"h-6 w-1/4 rounded"}),r.jsx(o.o,{className:"h-4 w-full rounded"}),r.jsx(o.o,{className:"h-4 w-3/4 rounded"}),r.jsx(o.o,{className:"h-4 w-1/2 rounded"})]})})})]})})}):v?r.jsx(h.Z,{children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Details"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Error loading user information"})]}),r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[r.jsx("div",{className:"text-red-600 mb-2",children:r.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h3",{className:"text-lg font-medium text-red-800 mb-1",children:"Error loading user"}),r.jsx("p",{className:"text-red-600",children:v}),r.jsx("div",{className:"mt-4",children:r.jsx(d.z,{onClick:fetchUser,variant:"outline",children:"Try Again"})})]})})})]})})}):r.jsx(h.Z,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:N?"Edit User":"User Details"}),r.jsx("p",{className:"text-gray-600 mt-2",children:N?"Update user information":"View and manage user details"})]}),(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:N?"Edit User Information":"User Information"})}),(0,r.jsxs)(i.aY,{children:[v&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("h3",{className:"text-sm font-medium text-red-800",children:v})})]})}),N?(0,r.jsxs)("form",{onSubmit:handleUpdate,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(m._,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name"}),r.jsx(c.I,{id:"name",name:"name",value:b.name,onChange:handleChange,placeholder:"Enter full name",className:`${_.name?"border-red-500":"border-gray-300"}`}),_.name&&(0,r.jsxs)("p",{className:"text-red-500 text-sm flex items-center mt-1",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),_.name]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(m._,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),r.jsx(c.I,{id:"email",name:"email",type:"email",value:b.email,onChange:handleChange,placeholder:"Enter email address",className:`${_.email?"border-red-500":"border-gray-300"}`}),_.email&&(0,r.jsxs)("p",{className:"text-red-500 text-sm flex items-center mt-1",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),_.email]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 pt-2",children:[(0,r.jsxs)(d.z,{type:"submit",className:"flex-1 flex items-center justify-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Update User"]}),r.jsx(d.z,{type:"button",variant:"outline",onClick:()=>{k({name:p.name||"",email:p.email||""}),w(!1),C({})},className:"flex-1",children:"Cancel"})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 text-xl font-medium",children:s?.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?.name}),r.jsx("p",{className:"text-gray-500",children:"User"})]})]}),(0,r.jsxs)("div",{className:"space-y-4 mb-8",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:(0,r.jsxs)("div",{children:[r.jsx(m._,{className:"text-sm font-medium text-gray-500",children:"ID"}),r.jsx("p",{className:"text-gray-900 break-all font-mono text-sm bg-gray-50 p-2 rounded mt-1",children:s?.id})]})}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:(0,r.jsxs)("div",{children:[r.jsx(m._,{className:"text-sm font-medium text-gray-500",children:"Name"}),r.jsx("p",{className:"text-gray-900 text-lg font-medium",children:s?.name})]})}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:(0,r.jsxs)("div",{children:[r.jsx(m._,{className:"text-sm font-medium text-gray-500",children:"Email"}),r.jsx("p",{className:"text-gray-900",children:s?.email})]})}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:(0,r.jsxs)("div",{children:[r.jsx(m._,{className:"text-sm font-medium text-gray-500",children:"Created At"}),r.jsx("p",{className:"text-gray-900",children:s?.createdAt?new Date(s.createdAt).toLocaleString():""})]})})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,r.jsxs)(d.z,{onClick:()=>{w(!0)},className:"flex-1 flex items-center justify-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit User"]}),(0,r.jsxs)(d.z,{variant:"destructive",onClick:()=>P(!0),className:"flex-1 flex items-center justify-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete User"]})]})]})]})]})]}),U&&(0,r.jsxs)(u.u,{isOpen:U,onClose:()=>P(!1),title:"Confirm Delete",children:[(0,r.jsxs)("p",{className:"mb-6",children:["Are you sure you want to delete user ",r.jsx("strong",{children:s?.name}),"? This action cannot be undone."]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx(d.z,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),r.jsx(d.z,{variant:"destructive",onClick:handleDelete,children:"Delete"})]})]})]})})}},6629:(e,s,a)=>{"use strict";a.d(s,{_:()=>i});var r=a(784),t=a(9885),l=a.n(t),n=a(1268);let i=l().forwardRef(({className:e,...s},a)=>r.jsx("label",{ref:a,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s}));i.displayName="Label"},6111:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var r=a(5153);let t=(0,r.createProxy)(String.raw`D:\Quarter004\assignment\frontend\app\users\[id]\page.js`),{__esModule:l,$$typeof:n}=t,i=t.default,d=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[176,184,500,984,705],()=>__webpack_exec__(2576));module.exports=a})();