(()=>{var e={};e.id=240,e.ids=[240],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},7113:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=r(7096),a=r(6132),n=r(7284),l=r.n(n),i=r(2564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let c=["",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7539)),"D:\\Quarter004\\assignment\\frontend\\app\\users\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9980)),"D:\\Quarter004\\assignment\\frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Quarter004\\assignment\\frontend\\app\\users\\page.js"],x="/users/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},260:(e,s,r)=>{Promise.resolve().then(r.bind(r,4966))},4966:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>UsersPage});var t=r(784),a=r(9885),n=r(1440),l=r.n(n),i=r(6447),o=r(9836),c=r(7809),d=r(8867),x=r(1268);let Search=({placeholder:e,value:s,onChange:r,className:a,...n})=>(0,t.jsxs)("div",{className:(0,x.cn)("relative",a),children:[t.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:t.jsx("svg",{className:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:t.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),t.jsx(d.I,{type:"text",placeholder:e,value:s,onChange:r,className:"pl-10 w-full",...n})]});var m=r(9423),u=r(1185),h=r(175),p=r(6151);function UsersPage(){let[e,s]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[d,x]=(0,a.useState)(!0),[g,j]=(0,a.useState)(null),[f,v]=(0,a.useState)(""),[w,y]=(0,a.useState)(!1),[N,b]=(0,a.useState)(null),{addToast:k}=(0,u.useToast)();(0,a.useEffect)(()=>{fetchUsers()},[]),(0,a.useEffect)(()=>{if(f){let s=e.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())||e.email.toLowerCase().includes(f.toLowerCase()));n(s)}else n(e)},[f,e]);let fetchUsers=async()=>{try{x(!0);let e=await i.B.getAllUsers();s(e),n(e),j(null)}catch(e){j("Failed to fetch users. Please try again later."),console.error("Error fetching users:",e),k({message:"Failed to fetch users. Please try again.",type:"error"})}finally{x(!1)}},confirmDelete=e=>{b(e),y(!0)},handleDelete=async()=>{if(N)try{await i.B.deleteUser(N.id),fetchUsers(),k({message:"User deleted successfully!",type:"success"})}catch(e){j("Failed to delete user. Please try again."),console.error("Error deleting user:",e),k({message:"Failed to delete user. Please try again.",type:"error"})}finally{y(!1),b(null)}},formatDate=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return t.jsx(p.Z,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Users"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your users"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[t.jsx("div",{className:"flex-1 max-w-md",children:t.jsx(Search,{placeholder:"Search users...",value:f,onChange:e=>v(e.target.value)})}),t.jsx(l(),{href:"/users/create",children:t.jsx(c.z,{className:"px-4 py-2",children:(0,t.jsxs)("span",{className:"flex items-center",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add User"]})})})]}),d?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>t.jsx(o.Zb,{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(m.o,{className:"h-5 w-3/4"}),t.jsx(m.o,{className:"h-4 w-1/2"}),t.jsx(m.o,{className:"h-4 w-2/3"}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-2",children:[t.jsx(m.o,{className:"h-8 w-16"}),t.jsx(m.o,{className:"h-8 w-16"})]})]})},s))}):g?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"text-red-600 mb-2",children:t.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h3",{className:"text-lg font-medium text-red-800 mb-1",children:"Error loading users"}),t.jsx("p",{className:"text-red-600",children:g}),t.jsx("div",{className:"mt-4",children:t.jsx(c.z,{onClick:fetchUsers,variant:"outline",children:"Try Again"})})]}):0===r.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:t.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No users yet"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Get started by creating your first user"}),t.jsx(l(),{href:"/users/create",children:t.jsx(c.z,{className:"px-6 py-3",children:(0,t.jsxs)("span",{className:"flex items-center",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create your first user"]})})})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>t.jsx(o.Zb,{className:"hover:shadow-lg transition-shadow duration-200 overflow-hidden",children:(0,t.jsxs)(o.aY,{className:"p-6",children:[t.jsx("div",{className:"flex justify-between items-start mb-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-blue-600 text-sm font-medium",children:e.name.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{className:"ml-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),t.jsx("p",{className:"text-sm text-gray-500",children:"User"})]})]})}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.email]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Joined ",formatDate(e.createdAt)]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[t.jsx(l(),{href:`/users/${e.id}`,children:t.jsx(c.z,{variant:"outline",size:"sm",className:"px-3 py-1.5",children:"Edit"})}),t.jsx(c.z,{variant:"destructive",size:"sm",className:"px-3 py-1.5",onClick:()=>confirmDelete(e),children:"Delete"})]})]})},e.id))})]}),w&&(0,t.jsxs)(h.u,{isOpen:w,onClose:()=>y(!1),title:"Confirm Delete",children:[(0,t.jsxs)("p",{className:"mb-6",children:["Are you sure you want to delete user ",t.jsx("strong",{children:N?.name}),"? This action cannot be undone."]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[t.jsx(c.z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),t.jsx(c.z,{variant:"destructive",onClick:handleDelete,children:"Delete"})]})]})]})})}},7539:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var t=r(5153);let a=(0,t.createProxy)(String.raw`D:\Quarter004\assignment\frontend\app\users\page.js`),{__esModule:n,$$typeof:l}=a,i=a.default,o=i}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[176,184,500,984,705],()=>__webpack_exec__(7113));module.exports=r})();